{"ast":null,"code":"import _slicedToArray from\"/Users/constanzarepezza/Winterhack23/starbucks/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Link,useParams}from\"react-router-dom\";import{useProducts}from\"../hooks/useProducts\";import{useEffect,useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Categoria(){var _useProducts=useProducts(),menu=_useProducts.menu,products=_useProducts.products,loading=_useProducts.loading,fetchProducts=_useProducts.fetchProducts;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),currentCategory=_useState2[0],setCurrentCategory=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),categoryProducts=_useState4[0],setCategoryProducts=_useState4[1];var _useParams=useParams(),cat=_useParams.cat,subcat=_useParams.subcat,subsubcat=_useParams.subsubcat;useEffect(function(){var getCategory=function getCategory(){if(menu.length===0)return;// obtengo el objeto de menu con la url actual\nvar category=menu.find(function(item){return item.url===\"/menu/\".concat(cat,\"/\").concat(subcat);});setCurrentCategory(category);// creo un nuevo array con los elementos cuyo parent sea igual a category.id\nvar filteredProducts=menu.filter(function(item){return item.parent===category.id;});setCategoryProducts(filteredProducts);};// cargo los productos de la subcategoria\nfetchProducts(subcat);getCategory();},[menu]);return/*#__PURE__*/_jsxs(\"div\",{className:\"products-container\",children:[/*#__PURE__*/_jsxs(\"nav\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/menu\",children:\"Men\\xFA\"}),\" / \",/*#__PURE__*/_jsx(\"span\",{children:currentCategory.title})]}),/*#__PURE__*/_jsx(\"h2\",{children:currentCategory.title}),loading&&/*#__PURE__*/_jsx(\"p\",{children:\"Cargando...\"}),/*#__PURE__*/_jsx(\"div\",{children:categoryProducts.map(function(item){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"category-heading\",id:item.id,children:item.title}),/*#__PURE__*/_jsx(\"ul\",{className:\"products\",children:products&&products.filter(function(product){return product.menu.id===item.id;}).map(function(product){return/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(Link,{to:product.url,children:[/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(product.image.url,\"?auto=format,compress&q=70&crop=focalpoint&ar=1:1.0&w=180&fit=crop\"),alt:\"\"}),/*#__PURE__*/_jsx(\"h4\",{children:product.title})]})},product.id);})})]},item.id);})})]});}","map":{"version":3,"names":["Link","useParams","useProducts","useEffect","useState","jsx","_jsx","jsxs","_jsxs","Categoria","_useProducts","menu","products","loading","fetchProducts","_useState","_useState2","_slicedToArray","currentCategory","setCurrentCategory","_useState3","_useState4","categoryProducts","setCategoryProducts","_useParams","cat","subcat","subsubcat","getCategory","length","category","find","item","url","concat","filteredProducts","filter","parent","id","className","children","to","title","map","product","src","image","alt"],"sources":["/Users/constanzarepezza/Winterhack23/starbucks/src/containers/Categoria.jsx"],"sourcesContent":["import { Link, useParams } from \"react-router-dom\"\nimport { useProducts } from \"../hooks/useProducts\"\nimport { useEffect, useState } from \"react\"\n\nexport default function Categoria() {\n    const { menu, products, loading, fetchProducts } = useProducts()\n    const [currentCategory, setCurrentCategory] = useState({})\n    const [categoryProducts, setCategoryProducts] = useState([])\n\n    let { cat, subcat, subsubcat } = useParams()\n\n    useEffect(() => {\n        const getCategory = () => {\n        if (menu.length === 0) return\n        // obtengo el objeto de menu con la url actual\n        const category = menu.find((item) => item.url === `/menu/${cat}/${subcat}`)\n        setCurrentCategory(category)\n\n        // creo un nuevo array con los elementos cuyo parent sea igual a category.id\n        const filteredProducts = menu.filter((item) => item.parent === category.id)\n\n        setCategoryProducts(filteredProducts)\n        }\n        // cargo los productos de la subcategoria\n        fetchProducts(subcat)\n        getCategory()\n    }, [menu])\n\n    return (\n        <div className=\"products-container\">\n        <nav>\n            <Link to=\"/menu\">Men√∫</Link> / <span>{currentCategory.title}</span>\n        </nav>\n        <h2>{currentCategory.title}</h2>\n        {loading && <p>Cargando...</p>}\n        <div>\n            {categoryProducts.map((item) => (\n            <div key={item.id}>\n                <h3 className=\"category-heading\" id={item.id}>\n                {item.title}\n                </h3>\n                <ul className=\"products\">\n                {products &&\n                    products\n                    .filter((product) => product.menu.id === item.id)\n                    .map((product) => (\n                        <li key={product.id}>\n                        <Link to={product.url}>\n                            <img src={`${product.image.url}?auto=format,compress&q=70&crop=focalpoint&ar=1:1.0&w=180&fit=crop`} alt=\"\" />\n                            <h4>{product.title}</h4>\n                        </Link>\n                        </li>\n                    ))}\n                </ul>\n            </div>\n            ))}\n        </div>\n        </div>\n    )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}