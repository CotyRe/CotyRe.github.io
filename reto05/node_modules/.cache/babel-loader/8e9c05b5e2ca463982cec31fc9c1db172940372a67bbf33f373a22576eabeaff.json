{"ast":null,"code":"var _jsxFileName = \"/Users/constanzarepezza/Winterhack23/starbucks/src/context/Context.jsx\",\n  _s = $RefreshSig$();\nimport { createContext, useEffect, useReducer } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const ProductsContext = /*#__PURE__*/createContext();\n\n//const API = \"/json/cafe.json\"\n//const CAFE_HELADO = \"/data/cafes-helado.json\"\nconst API_MENU = \"/data/menu.json\";\nconst initialState = {\n  products: [],\n  menu: [],\n  loading: true,\n  error: null\n};\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case \"LOADING\":\n      return {\n        ...state,\n        loading: true\n      };\n    case \"SET_MENU\":\n      return {\n        ...state,\n        menu: action.payload,\n        loading: false\n      };\n    case \"SET_PRODUCTS\":\n      return {\n        ...state,\n        products: action.payload,\n        loading: false\n      };\n  }\n};\n\n// eslint-disable-next-line react/prop-types\nexport const ProductsProvider = ({\n  children\n}) => {\n  _s();\n  const [state, dispatch] = useReducer(reducer, initialState);\n  const fetchProducts = async category => {\n    const res = await fetch(`/data/${category}.json`);\n    const data = await res.json();\n    dispatch({\n      type: \"SET_PRODUCTS\",\n      payload: data.products\n    });\n  };\n  const fetchCategories = async () => {\n    const res = await fetch(API_MENU);\n    const data = await res.json();\n    dispatch({\n      type: \"SET_MENU\",\n      payload: data.pageProps.categories\n    });\n  };\n  useEffect(() => {\n    fetchProducts();\n    fetchCategories();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(ProductsContext.Provider, {\n    value: {\n      products: state.products,\n      menu: state.menu,\n      categories: state.categories,\n      loading: state.loading,\n      error: state.error,\n      fetchProducts\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 9\n  }, this);\n};\n_s(ProductsProvider, \"bgCdjuTOmPdSBRwTap80EFd9Y3U=\");\n_c = ProductsProvider;\nvar _c;\n$RefreshReg$(_c, \"ProductsProvider\");","map":{"version":3,"names":["createContext","useEffect","useReducer","jsxDEV","_jsxDEV","ProductsContext","API_MENU","initialState","products","menu","loading","error","reducer","state","action","type","payload","ProductsProvider","children","_s","dispatch","fetchProducts","category","res","fetch","data","json","fetchCategories","pageProps","categories","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/constanzarepezza/Winterhack23/starbucks/src/context/Context.jsx"],"sourcesContent":["import { createContext, useEffect, useReducer } from \"react\"\n\nexport const ProductsContext = createContext()\n\n//const API = \"/json/cafe.json\"\n//const CAFE_HELADO = \"/data/cafes-helado.json\"\nconst API_MENU = \"/data/menu.json\"\n\nconst initialState = {\n    products: [],\n    menu: [],\n    loading: true,\n    error: null\n}\n\nconst reducer = (state, action) => {\n    switch (action.type) {\n        case \"LOADING\":\n        return {\n            ...state,\n            loading: true\n        }\n        case \"SET_MENU\":\n        return {\n            ...state,\n            menu: action.payload,\n            loading: false\n        }\n        case \"SET_PRODUCTS\":\n        return {\n            ...state,\n            products: action.payload,\n            loading: false\n        }\n    }\n}\n\n// eslint-disable-next-line react/prop-types\nexport const ProductsProvider = ({ children }) => {\n    const [state, dispatch] = useReducer(reducer, initialState)\n\n    const fetchProducts = async (category) => {\n        const res = await fetch(`/data/${category}.json`)\n        const data = await res.json()\n        dispatch({ type: \"SET_PRODUCTS\", payload: data.products })\n    }\n    const fetchCategories = async () => {\n        const res = await fetch(API_MENU)\n        const data = await res.json()\n        dispatch({ type: \"SET_MENU\", payload: data.pageProps.categories })\n    }\n\n    useEffect(() => {\n        fetchProducts()\n        fetchCategories()\n    }, [])\n\n    return (\n        <ProductsContext.Provider\n        value={{ products: state.products, menu: state.menu, categories: state.categories, loading: state.loading, error: state.error, fetchProducts }}\n        >\n        {children}\n        </ProductsContext.Provider>\n    )\n}"],"mappings":";;AAAA,SAASA,aAAa,EAAEC,SAAS,EAAEC,UAAU,QAAQ,OAAO;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAE5D,OAAO,MAAMC,eAAe,gBAAGL,aAAa,CAAC,CAAC;;AAE9C;AACA;AACA,MAAMM,QAAQ,GAAG,iBAAiB;AAElC,MAAMC,YAAY,GAAG;EACjBC,QAAQ,EAAE,EAAE;EACZC,IAAI,EAAE,EAAE;EACRC,OAAO,EAAE,IAAI;EACbC,KAAK,EAAE;AACX,CAAC;AAED,MAAMC,OAAO,GAAGA,CAACC,KAAK,EAAEC,MAAM,KAAK;EAC/B,QAAQA,MAAM,CAACC,IAAI;IACf,KAAK,SAAS;MACd,OAAO;QACH,GAAGF,KAAK;QACRH,OAAO,EAAE;MACb,CAAC;IACD,KAAK,UAAU;MACf,OAAO;QACH,GAAGG,KAAK;QACRJ,IAAI,EAAEK,MAAM,CAACE,OAAO;QACpBN,OAAO,EAAE;MACb,CAAC;IACD,KAAK,cAAc;MACnB,OAAO;QACH,GAAGG,KAAK;QACRL,QAAQ,EAAEM,MAAM,CAACE,OAAO;QACxBN,OAAO,EAAE;MACb,CAAC;EACL;AACJ,CAAC;;AAED;AACA,OAAO,MAAMO,gBAAgB,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EAC9C,MAAM,CAACN,KAAK,EAAEO,QAAQ,CAAC,GAAGlB,UAAU,CAACU,OAAO,EAAEL,YAAY,CAAC;EAE3D,MAAMc,aAAa,GAAG,MAAOC,QAAQ,IAAK;IACtC,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAAE,SAAQF,QAAS,OAAM,CAAC;IACjD,MAAMG,IAAI,GAAG,MAAMF,GAAG,CAACG,IAAI,CAAC,CAAC;IAC7BN,QAAQ,CAAC;MAAEL,IAAI,EAAE,cAAc;MAAEC,OAAO,EAAES,IAAI,CAACjB;IAAS,CAAC,CAAC;EAC9D,CAAC;EACD,MAAMmB,eAAe,GAAG,MAAAA,CAAA,KAAY;IAChC,MAAMJ,GAAG,GAAG,MAAMC,KAAK,CAAClB,QAAQ,CAAC;IACjC,MAAMmB,IAAI,GAAG,MAAMF,GAAG,CAACG,IAAI,CAAC,CAAC;IAC7BN,QAAQ,CAAC;MAAEL,IAAI,EAAE,UAAU;MAAEC,OAAO,EAAES,IAAI,CAACG,SAAS,CAACC;IAAW,CAAC,CAAC;EACtE,CAAC;EAED5B,SAAS,CAAC,MAAM;IACZoB,aAAa,CAAC,CAAC;IACfM,eAAe,CAAC,CAAC;EACrB,CAAC,EAAE,EAAE,CAAC;EAEN,oBACIvB,OAAA,CAACC,eAAe,CAACyB,QAAQ;IACzBC,KAAK,EAAE;MAAEvB,QAAQ,EAAEK,KAAK,CAACL,QAAQ;MAAEC,IAAI,EAAEI,KAAK,CAACJ,IAAI;MAAEoB,UAAU,EAAEhB,KAAK,CAACgB,UAAU;MAAEnB,OAAO,EAAEG,KAAK,CAACH,OAAO;MAAEC,KAAK,EAAEE,KAAK,CAACF,KAAK;MAAEU;IAAc,CAAE;IAAAH,QAAA,EAE9IA;EAAQ;IAAAc,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACiB,CAAC;AAEnC,CAAC;AAAAhB,EAAA,CA1BYF,gBAAgB;AAAAmB,EAAA,GAAhBnB,gBAAgB;AAAA,IAAAmB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}